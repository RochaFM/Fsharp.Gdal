<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!--
      The Plot Geometries parameters will be replaced with the
      document title extracted from the <h1> element or
      file name, if there is no <h1> heading
    -->
    <title>Plot Geometries</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type='text/javascript' src='https://www.google.com/jsapi'></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="styles/style.css" />
    <link type="text/css" rel="stylesheet" href="styles/deedle.css" />
    <script src="styles/tips.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1.1", { packages: ["corechart", "annotationchart", "calendar", "gauge", "geochart", "map", "sankey", "table", "timeline", "treemap"] })
    </script>
    <script language="javascript" type="text/javascript">
          function init()
          {
            try {
              websocket = new WebSocket("ws://localhost:8088/websocket");
              websocket.onmessage = function(evt) { location.reload(); };
            } catch (e) {
              //silently ignore lack of websockets
            }
          }
          window.addEventListener("load", init, false);
    </script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
            <ul class="nav nav-pills pull-right">
                <li><a href="http://fsharp.org/">fsharp.org</a></li>
                <li><a href="http://fslab.org">fslab.org</a></li>
                <li><a href="http://github.com/domasin/Fsharp.Gdal">github page</a></li>
            </ul>
            <h3 class="muted"><a href="http://domasin.github.io/Fsharp.Gdal/index.html">Fsharp.Gdal</a></h3>
        </div>
      <hr />
	  </div>
      <div class="row" style="margin-top:30px">
        <div class="span1"></div>
		<div class="span1"></div>
        <div class="span10" id="main">
          <h1>Plot Geometries</h1>
<p>This section defines a rudimentary <code>plot</code> function to give at least
some sort of graphical visualization of geometries.</p>
<p>To do this it makes use of <code>FSharp.Charting</code>'s charts to plot the
coordinates of geometries in a cartesian plan. The main limit of the
function is that polygons are rendered as lines instead of full shapes.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Charting</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">OSGeo</span>
</code></pre></td>
</tr>
</table>
<p>The <code>coordinates</code> function just extracts a list of tuples
made of the longitude and latitude of the corrdinates that consistute
the geometry.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Extracts the geometry&#39;s coordinates as a list of tuples made of </span>
<span class="c">/// longitude and latitude.</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="f">coordinates</span> (<span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">geom</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="t">Geometry</span>) <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="i">last</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 9)" onmouseover="showTip(event, 'fs5', 9)" class="i">geom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="f">GetPointCount</span>() <span class="o">-</span> <span class="n">1</span>
    [
        <span class="k">for</span> <span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="i">i</span> <span class="k">in</span> <span class="n">0..</span><span onmouseout="hideTip(event, 'fs8', 12)" onmouseover="showTip(event, 'fs8', 12)" class="i">last</span> <span class="k">-&gt;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="i">p</span> <span class="o">=</span> [|<span class="n">0.</span>;<span class="n">0.</span>|]
            <span onmouseout="hideTip(event, 'fs5', 14)" onmouseover="showTip(event, 'fs5', 14)" class="i">geom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="f">GetPoint</span>(<span onmouseout="hideTip(event, 'fs10', 16)" onmouseover="showTip(event, 'fs10', 16)" class="i">i</span>,<span onmouseout="hideTip(event, 'fs11', 17)" onmouseover="showTip(event, 'fs11', 17)" class="i">p</span>)
            (<span onmouseout="hideTip(event, 'fs11', 18)" onmouseover="showTip(event, 'fs11', 18)" class="i">p</span><span class="o">.</span>[<span class="n">0</span>], <span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="i">p</span><span class="o">.</span>[<span class="n">1</span>])
    ]
</code></pre></td>
</tr>
</table>
<p>To properly draw the shapes in the cartesian space we need to
choose a chart type that most fits with the geometry type to plot.</p>
<p><code>createChart</code> creates a <code>Chart.Point</code> for points geometries while
<code>Chart.Line</code> is choosen for every other geometry types: as marked above
the main limit of this approach is that ploygons are still rendered as
lines but this at least gives an immage of the geometry.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Creates a chart for the geometry</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 20)" onmouseover="showTip(event, 'fs13', 20)" class="f">createChart</span> (<span onmouseout="hideTip(event, 'fs5', 21)" onmouseover="showTip(event, 'fs5', 21)" class="i">geom</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs6', 22)" onmouseover="showTip(event, 'fs6', 22)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 23)" onmouseover="showTip(event, 'fs7', 23)" class="t">Geometry</span>) <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 24)" onmouseover="showTip(event, 'fs14', 24)" class="i">coords</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 25)" onmouseover="showTip(event, 'fs5', 25)" class="i">geom</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 26)" onmouseover="showTip(event, 'fs4', 26)" class="f">coordinates</span>
    <span class="k">match</span> (<span onmouseout="hideTip(event, 'fs5', 27)" onmouseover="showTip(event, 'fs5', 27)" class="i">geom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 28)" onmouseover="showTip(event, 'fs15', 28)" class="f">GetGeometryType</span>()) <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs6', 29)" onmouseover="showTip(event, 'fs6', 29)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 30)" onmouseover="showTip(event, 'fs16', 30)" class="t">wkbGeometryType</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="i">wkbPoint</span>
    | <span onmouseout="hideTip(event, 'fs6', 32)" onmouseover="showTip(event, 'fs6', 32)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs16', 33)" onmouseover="showTip(event, 'fs16', 33)" class="t">wkbGeometryType</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 34)" onmouseover="showTip(event, 'fs18', 34)" class="i">wkbPoint25D</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs19', 35)" onmouseover="showTip(event, 'fs19', 35)" class="t">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 36)" onmouseover="showTip(event, 'fs20', 36)" class="f">Point</span>(<span onmouseout="hideTip(event, 'fs14', 37)" onmouseover="showTip(event, 'fs14', 37)" class="i">coords</span>)
    | _                               <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs19', 38)" onmouseover="showTip(event, 'fs19', 38)" class="t">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs21', 39)" onmouseover="showTip(event, 'fs21', 39)" class="f">Line</span>(<span onmouseout="hideTip(event, 'fs14', 40)" onmouseover="showTip(event, 'fs14', 40)" class="i">coords</span>)
</code></pre></td>
</tr>
</table>
<p>We need to set the space of the chart at a size that makes the
shape visibile enough.</p>
<p>First with <code>env</code> we extract the bounding box of the geometry as an
<code>OGR.Envelope</code></p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Extracs the bounding box of the geometry</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 41)" onmouseover="showTip(event, 'fs22', 41)" class="f">env</span> (<span onmouseout="hideTip(event, 'fs5', 42)" onmouseover="showTip(event, 'fs5', 42)" class="i">geom</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs6', 43)" onmouseover="showTip(event, 'fs6', 43)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 44)" onmouseover="showTip(event, 'fs7', 44)" class="t">Geometry</span>) <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs23', 45)" onmouseover="showTip(event, 'fs23', 45)" class="i">res</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs6', 46)" onmouseover="showTip(event, 'fs6', 46)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 47)" onmouseover="showTip(event, 'fs24', 47)" class="t">Envelope</span>()
    <span onmouseout="hideTip(event, 'fs5', 48)" onmouseover="showTip(event, 'fs5', 48)" class="i">geom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 49)" onmouseover="showTip(event, 'fs25', 49)" class="f">GetEnvelope</span>(<span onmouseout="hideTip(event, 'fs23', 50)" onmouseover="showTip(event, 'fs23', 50)" class="i">res</span>)
    <span onmouseout="hideTip(event, 'fs23', 51)" onmouseover="showTip(event, 'fs23', 51)" class="i">res</span>
</code></pre></td>
</tr>
</table>
<p>... then we <code>resize</code> it based on a choosen <code>zoom</code> as a percentage of the
shape size. If the geometry is made of just a point it has not a real size
so in this case we just calculate a margin based on the coordinate's magnitude.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Resizes the envelope based on a choosen zoom </span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 52)" onmouseover="showTip(event, 'fs26', 52)" class="f">resize</span> <span onmouseout="hideTip(event, 'fs27', 53)" onmouseover="showTip(event, 'fs27', 53)" class="i">zoom</span> (<span onmouseout="hideTip(event, 'fs28', 54)" onmouseover="showTip(event, 'fs28', 54)" class="i">en</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs6', 55)" onmouseover="showTip(event, 'fs6', 55)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 56)" onmouseover="showTip(event, 'fs24', 56)" class="t">Envelope</span>) <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 57)" onmouseover="showTip(event, 'fs29', 57)" class="i">dx</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 58)" onmouseover="showTip(event, 'fs28', 58)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 59)" onmouseover="showTip(event, 'fs30', 59)" class="i">MaxX</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs28', 60)" onmouseover="showTip(event, 'fs28', 60)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 61)" onmouseover="showTip(event, 'fs31', 61)" class="i">MinX</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 62)" onmouseover="showTip(event, 'fs32', 62)" class="i">dy</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 63)" onmouseover="showTip(event, 'fs28', 63)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 64)" onmouseover="showTip(event, 'fs33', 64)" class="i">MaxY</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs28', 65)" onmouseover="showTip(event, 'fs28', 65)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 66)" onmouseover="showTip(event, 'fs34', 66)" class="i">MinY</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 67)" onmouseover="showTip(event, 'fs35', 67)" class="i">xMargin</span> <span class="o">=</span> <span class="k">if</span> <span onmouseout="hideTip(event, 'fs29', 68)" onmouseover="showTip(event, 'fs29', 68)" class="i">dx</span> <span class="o">=</span> <span class="n">0.</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs28', 69)" onmouseover="showTip(event, 'fs28', 69)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 70)" onmouseover="showTip(event, 'fs30', 70)" class="i">MaxX</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs27', 71)" onmouseover="showTip(event, 'fs27', 71)" class="i">zoom</span> <span class="o">/</span> <span class="n">2.</span> <span class="k">else</span> ((<span onmouseout="hideTip(event, 'fs29', 72)" onmouseover="showTip(event, 'fs29', 72)" class="i">dx</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs27', 73)" onmouseover="showTip(event, 'fs27', 73)" class="i">zoom</span>) <span class="o">-</span> <span onmouseout="hideTip(event, 'fs29', 74)" onmouseover="showTip(event, 'fs29', 74)" class="i">dx</span>) <span class="o">/</span> <span class="n">2.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs36', 75)" onmouseover="showTip(event, 'fs36', 75)" class="i">yMargin</span> <span class="o">=</span> <span class="k">if</span> <span onmouseout="hideTip(event, 'fs32', 76)" onmouseover="showTip(event, 'fs32', 76)" class="i">dy</span> <span class="o">=</span> <span class="n">0.</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs28', 77)" onmouseover="showTip(event, 'fs28', 77)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 78)" onmouseover="showTip(event, 'fs33', 78)" class="i">MaxY</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs27', 79)" onmouseover="showTip(event, 'fs27', 79)" class="i">zoom</span> <span class="o">/</span> <span class="n">2.</span> <span class="k">else</span> ((<span onmouseout="hideTip(event, 'fs32', 80)" onmouseover="showTip(event, 'fs32', 80)" class="i">dy</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs27', 81)" onmouseover="showTip(event, 'fs27', 81)" class="i">zoom</span>) <span class="o">-</span> <span onmouseout="hideTip(event, 'fs32', 82)" onmouseover="showTip(event, 'fs32', 82)" class="i">dy</span>) <span class="o">/</span> <span class="n">2.</span>
    <span onmouseout="hideTip(event, 'fs28', 83)" onmouseover="showTip(event, 'fs28', 83)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 84)" onmouseover="showTip(event, 'fs30', 84)" class="i">MaxX</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs28', 85)" onmouseover="showTip(event, 'fs28', 85)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 86)" onmouseover="showTip(event, 'fs30', 86)" class="i">MaxX</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs35', 87)" onmouseover="showTip(event, 'fs35', 87)" class="i">xMargin</span>
    <span onmouseout="hideTip(event, 'fs28', 88)" onmouseover="showTip(event, 'fs28', 88)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 89)" onmouseover="showTip(event, 'fs33', 89)" class="i">MaxY</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs28', 90)" onmouseover="showTip(event, 'fs28', 90)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 91)" onmouseover="showTip(event, 'fs33', 91)" class="i">MaxY</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs36', 92)" onmouseover="showTip(event, 'fs36', 92)" class="i">yMargin</span>
    <span onmouseout="hideTip(event, 'fs28', 93)" onmouseover="showTip(event, 'fs28', 93)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 94)" onmouseover="showTip(event, 'fs31', 94)" class="i">MinX</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs28', 95)" onmouseover="showTip(event, 'fs28', 95)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 96)" onmouseover="showTip(event, 'fs31', 96)" class="i">MinX</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs35', 97)" onmouseover="showTip(event, 'fs35', 97)" class="i">xMargin</span>
    <span onmouseout="hideTip(event, 'fs28', 98)" onmouseover="showTip(event, 'fs28', 98)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 99)" onmouseover="showTip(event, 'fs34', 99)" class="i">MinY</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs28', 100)" onmouseover="showTip(event, 'fs28', 100)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 101)" onmouseover="showTip(event, 'fs34', 101)" class="i">MinY</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs36', 102)" onmouseover="showTip(event, 'fs36', 102)" class="i">yMargin</span>
    <span onmouseout="hideTip(event, 'fs28', 103)" onmouseover="showTip(event, 'fs28', 103)" class="i">en</span>
</code></pre></td>
</tr>
</table>
<p>Now we can define a <code>plotAt</code> function that plots the geometry at a specified
<code>zoom</code>.</p>
<p>Geomteries can be simple or compund. If <code>geom</code>is compound we need to recursively
traverse its structure till its simple components and populate a <code>charts</code>
list for each using the <code>createChart</code> function defined above.</p>
<p>The recursive part is made by the inner <code>createCharts</code> function taking advantage
of the functional nature of F#.</p>
<p>At the end we can <code>Chart.Combine</code> all the elements of the chart list setting the
cartesian plan's space at the proper size.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Plots a geometry at a specified zoom</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 104)" onmouseover="showTip(event, 'fs37', 104)" class="f">plotAt</span> <span onmouseout="hideTip(event, 'fs27', 105)" onmouseover="showTip(event, 'fs27', 105)" class="i">zoom</span> (<span onmouseout="hideTip(event, 'fs5', 106)" onmouseover="showTip(event, 'fs5', 106)" class="i">geom</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs6', 107)" onmouseover="showTip(event, 'fs6', 107)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 108)" onmouseover="showTip(event, 'fs7', 108)" class="t">Geometry</span>) <span class="o">=</span> 
    <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs38', 109)" onmouseover="showTip(event, 'fs38', 109)" class="f">createCharts</span> <span onmouseout="hideTip(event, 'fs39', 110)" onmouseover="showTip(event, 'fs39', 110)" class="i">xs</span> (<span onmouseout="hideTip(event, 'fs5', 111)" onmouseover="showTip(event, 'fs5', 111)" class="i">geom</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs6', 112)" onmouseover="showTip(event, 'fs6', 112)" class="i">OGR</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 113)" onmouseover="showTip(event, 'fs7', 113)" class="t">Geometry</span>) <span class="o">=</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 114)" onmouseover="showTip(event, 'fs40', 114)" class="i">count</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 115)" onmouseover="showTip(event, 'fs5', 115)" class="i">geom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs41', 116)" onmouseover="showTip(event, 'fs41', 116)" class="f">GetGeometryCount</span>()
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs40', 117)" onmouseover="showTip(event, 'fs40', 117)" class="i">count</span> <span class="k">with</span>
        | <span onmouseout="hideTip(event, 'fs40', 118)" onmouseover="showTip(event, 'fs40', 118)" class="i">count</span> <span class="k">when</span> <span onmouseout="hideTip(event, 'fs40', 119)" onmouseover="showTip(event, 'fs40', 119)" class="i">count</span> <span class="o">=</span> <span class="n">0</span> <span class="k">-&gt;</span> [(<span onmouseout="hideTip(event, 'fs5', 120)" onmouseover="showTip(event, 'fs5', 120)" class="i">geom</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs13', 121)" onmouseover="showTip(event, 'fs13', 121)" class="f">createChart</span>)]<span class="o">@</span><span onmouseout="hideTip(event, 'fs39', 122)" onmouseover="showTip(event, 'fs39', 122)" class="i">xs</span>
        | _ <span class="k">-&gt;</span> 
            [<span class="k">for</span> <span onmouseout="hideTip(event, 'fs10', 123)" onmouseover="showTip(event, 'fs10', 123)" class="i">i</span> <span class="k">in</span> <span class="n">0..</span>(<span onmouseout="hideTip(event, 'fs40', 124)" onmouseover="showTip(event, 'fs40', 124)" class="i">count</span><span class="o">-</span><span class="n">1</span>) <span class="k">-&gt;</span> 
                (<span onmouseout="hideTip(event, 'fs5', 125)" onmouseover="showTip(event, 'fs5', 125)" class="i">geom</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 126)" onmouseover="showTip(event, 'fs42', 126)" class="f">GetGeometryRef</span>(<span onmouseout="hideTip(event, 'fs10', 127)" onmouseover="showTip(event, 'fs10', 127)" class="i">i</span>)) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs38', 128)" onmouseover="showTip(event, 'fs38', 128)" class="f">createCharts</span> <span onmouseout="hideTip(event, 'fs39', 129)" onmouseover="showTip(event, 'fs39', 129)" class="i">xs</span>
            ] <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs43', 130)" onmouseover="showTip(event, 'fs43', 130)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 131)" onmouseover="showTip(event, 'fs44', 131)" class="f">concat</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 132)" onmouseover="showTip(event, 'fs45', 132)" class="i">charts</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 133)" onmouseover="showTip(event, 'fs5', 133)" class="i">geom</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs38', 134)" onmouseover="showTip(event, 'fs38', 134)" class="f">createCharts</span> []
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 135)" onmouseover="showTip(event, 'fs46', 135)" class="i">spaceSize</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 136)" onmouseover="showTip(event, 'fs5', 136)" class="i">geom</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs22', 137)" onmouseover="showTip(event, 'fs22', 137)" class="f">env</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs26', 138)" onmouseover="showTip(event, 'fs26', 138)" class="f">resize</span> <span onmouseout="hideTip(event, 'fs27', 139)" onmouseover="showTip(event, 'fs27', 139)" class="i">zoom</span>
    <span onmouseout="hideTip(event, 'fs19', 140)" onmouseover="showTip(event, 'fs19', 140)" class="t">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs47', 141)" onmouseover="showTip(event, 'fs47', 141)" class="f">Combine</span>(<span onmouseout="hideTip(event, 'fs45', 142)" onmouseover="showTip(event, 'fs45', 142)" class="i">charts</span>)
        <span class="o">.</span><span class="f">WithXAxis</span>(<span class="i">Max</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs46', 143)" onmouseover="showTip(event, 'fs46', 143)" class="i">spaceSize</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs30', 144)" onmouseover="showTip(event, 'fs30', 144)" class="i">MaxX</span>,<span class="i">Min</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs46', 145)" onmouseover="showTip(event, 'fs46', 145)" class="i">spaceSize</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 146)" onmouseover="showTip(event, 'fs31', 146)" class="i">MinX</span>)
        <span class="o">.</span><span class="f">WithYAxis</span>(<span class="i">Max</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs46', 147)" onmouseover="showTip(event, 'fs46', 147)" class="i">spaceSize</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 148)" onmouseover="showTip(event, 'fs33', 148)" class="i">MaxY</span>,<span class="i">Min</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs46', 149)" onmouseover="showTip(event, 'fs46', 149)" class="i">spaceSize</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 150)" onmouseover="showTip(event, 'fs34', 150)" class="i">MinY</span>)
</code></pre></td>
</tr>
</table>
<p>Since normally a <code>zoom</code> at 80% of the shape size is enough to visualize the geometry
we define the final <code>plot</code> function to default at a 80% <code>zoom</code> not to have to specify
it each time:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Plots a geometry at a zoom of 80%</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 151)" onmouseover="showTip(event, 'fs48', 151)" class="f">plot</span> <span class="o">=</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs49', 152)" onmouseover="showTip(event, 'fs49', 152)" class="i">g</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs49', 153)" onmouseover="showTip(event, 'fs49', 153)" class="i">g</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs37', 154)" onmouseover="showTip(event, 'fs37', 154)" class="f">plotAt</span> <span class="n">0.8</span>)
</code></pre></td>
</tr>
</table>
<div class="tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs2">namespace FSharp.Charting</div>
<div class="tip" id="fs3">namespace OSGeo</div>
<div class="tip" id="fs4">val coordinates : geom:OGR.Geometry -&gt; (float * float) list<br /><br />Full name: Plot-geometries.coordinates<br /><em><br /><br />&#160;Extracts the geometry&#39;s coordinates as a list of tuples made of <br />&#160;longitude and latitude.</em></div>
<div class="tip" id="fs5">val geom : OGR.Geometry</div>
<div class="tip" id="fs6">namespace OSGeo.OGR</div>
<div class="tip" id="fs7">Multiple items<br />type Geometry =<br />&#160;&#160;new : type:wkbGeometryType -&gt; Geometry + 2 overloads<br />&#160;&#160;member AddGeometry : other:Geometry -&gt; int<br />&#160;&#160;member AddGeometryDirectly : other_disown:Geometry -&gt; int<br />&#160;&#160;member AddPoint : x:float * y:float * z:float -&gt; unit<br />&#160;&#160;member AddPoint_2D : x:float * y:float -&gt; unit<br />&#160;&#160;member Area : unit -&gt; float<br />&#160;&#160;member AssignSpatialReference : reference:SpatialReference -&gt; unit<br />&#160;&#160;member Boundary : unit -&gt; Geometry<br />&#160;&#160;member Buffer : distance:float * quadsecs:int -&gt; Geometry<br />&#160;&#160;member Centroid : unit -&gt; Geometry<br />&#160;&#160;...<br /><br />Full name: OSGeo.OGR.Geometry<br /><br />--------------------<br />OGR.Geometry(type: OGR.wkbGeometryType) : unit<br />OGR.Geometry(cPtr: nativeint, cMemoryOwn: bool, parent: obj) : unit<br />OGR.Geometry(type: OGR.wkbGeometryType, wkt: string, wkb: int, wkb_buf: nativeint, gml: string) : unit</div>
<div class="tip" id="fs8">val last : int</div>
<div class="tip" id="fs9">OGR.Geometry.GetPointCount() : int</div>
<div class="tip" id="fs10">val i : int</div>
<div class="tip" id="fs11">val p : float []</div>
<div class="tip" id="fs12">OGR.Geometry.GetPoint(iPoint: int, argout: float []) : unit</div>
<div class="tip" id="fs13">val createChart : geom:OGR.Geometry -&gt; ChartTypes.GenericChart<br /><br />Full name: Plot-geometries.createChart<br /><em><br /><br />&#160;Creates a chart for the geometry</em></div>
<div class="tip" id="fs14">val coords : (float * float) list</div>
<div class="tip" id="fs15">OGR.Geometry.GetGeometryType() : OGR.wkbGeometryType</div>
<div class="tip" id="fs16">type wkbGeometryType =<br />&#160;&#160;| wkbUnknown = 0<br />&#160;&#160;| wkbPoint = 1<br />&#160;&#160;| wkbLineString = 2<br />&#160;&#160;| wkbPolygon = 3<br />&#160;&#160;| wkbMultiPoint = 4<br />&#160;&#160;| wkbMultiLineString = 5<br />&#160;&#160;| wkbMultiPolygon = 6<br />&#160;&#160;| wkbGeometryCollection = 7<br />&#160;&#160;| wkbNone = 100<br />&#160;&#160;| wkbLinearRing = 101<br />&#160;&#160;...<br /><br />Full name: OSGeo.OGR.wkbGeometryType</div>
<div class="tip" id="fs17">field OGR.wkbGeometryType.wkbPoint = 1</div>
<div class="tip" id="fs18">field OGR.wkbGeometryType.wkbPoint25D = -2147483647</div>
<div class="tip" id="fs19">type Chart =<br />&#160;&#160;static member Area : data:seq&lt;#value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; GenericChart<br />&#160;&#160;static member Area : data:seq&lt;#key * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; GenericChart<br />&#160;&#160;static member Bar : data:seq&lt;#value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; GenericChart<br />&#160;&#160;static member Bar : data:seq&lt;#key * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; GenericChart<br />&#160;&#160;static member BoxPlotFromData : data:seq&lt;#key * #seq&lt;&#39;a2&gt;&gt; * ?Name:string * ?Title:string * ?Color:Color * ?XTitle:string * ?YTitle:string * ?Percentile:int * ?ShowAverage:bool * ?ShowMedian:bool * ?ShowUnusualValues:bool * ?WhiskerPercentile:int -&gt; GenericChart (requires &#39;a2 :&gt; value)<br />&#160;&#160;static member BoxPlotFromStatistics : data:seq&lt;#key * #value * #value * #value * #value * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string * ?Percentile:int * ?ShowAverage:bool * ?ShowMedian:bool * ?ShowUnusualValues:bool * ?WhiskerPercentile:int -&gt; GenericChart<br />&#160;&#160;static member Bubble : data:seq&lt;#value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string * ?BubbleMaxSize:int * ?BubbleMinSize:int * ?BubbleScaleMax:float * ?BubbleScaleMin:float * ?UseSizeForLabel:bool -&gt; GenericChart<br />&#160;&#160;static member Bubble : data:seq&lt;#key * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string * ?BubbleMaxSize:int * ?BubbleMinSize:int * ?BubbleScaleMax:float * ?BubbleScaleMin:float * ?UseSizeForLabel:bool -&gt; GenericChart<br />&#160;&#160;static member Candlestick : data:seq&lt;#value * #value * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; CandlestickChart<br />&#160;&#160;static member Candlestick : data:seq&lt;#key * #value * #value * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; CandlestickChart<br />&#160;&#160;...<br /><br />Full name: FSharp.Charting.Chart</div>
<div class="tip" id="fs20">static member Chart.Point : data:seq&lt;#value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:System.Drawing.Color * ?XTitle:string * ?YTitle:string * ?MarkerColor:System.Drawing.Color * ?MarkerSize:int -&gt; ChartTypes.GenericChart<br />static member Chart.Point : data:seq&lt;#key * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:System.Drawing.Color * ?XTitle:string * ?YTitle:string * ?MarkerColor:System.Drawing.Color * ?MarkerSize:int -&gt; ChartTypes.GenericChart</div>
<div class="tip" id="fs21">static member Chart.Line : data:Deedle.Series&lt;&#39;K,#value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:System.Drawing.Color * ?XTitle:string * ?YTitle:string -&gt; ChartTypes.GenericChart (requires equality and &#39;K :&gt; key)<br />static member Chart.Line : data:seq&lt;#value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:System.Drawing.Color * ?XTitle:string * ?YTitle:string -&gt; ChartTypes.GenericChart<br />static member Chart.Line : data:seq&lt;#key * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:System.Drawing.Color * ?XTitle:string * ?YTitle:string -&gt; ChartTypes.GenericChart</div>
<div class="tip" id="fs22">val env : geom:OGR.Geometry -&gt; OGR.Envelope<br /><br />Full name: Plot-geometries.env<br /><em><br /><br />&#160;Extracs the bounding box of the geometry</em></div>
<div class="tip" id="fs23">val res : OGR.Envelope</div>
<div class="tip" id="fs24">Multiple items<br />type Envelope =<br />&#160;&#160;new : unit -&gt; Envelope + 1 overload<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;member MaxX : float with get, set<br />&#160;&#160;member MaxY : float with get, set<br />&#160;&#160;member MinX : float with get, set<br />&#160;&#160;member MinY : float with get, set<br />&#160;&#160;static member getCPtr : obj:Envelope -&gt; HandleRef<br />&#160;&#160;static member getCPtrAndDisown : obj:Envelope * parent:obj -&gt; HandleRef<br />&#160;&#160;static member getCPtrAndSetReference : obj:Envelope * parent:obj -&gt; HandleRef<br /><br />Full name: OSGeo.OGR.Envelope<br /><br />--------------------<br />OGR.Envelope() : unit<br />OGR.Envelope(cPtr: nativeint, cMemoryOwn: bool, parent: obj) : unit</div>
<div class="tip" id="fs25">OGR.Geometry.GetEnvelope(env: OGR.Envelope) : unit</div>
<div class="tip" id="fs26">val resize : zoom:float -&gt; en:OGR.Envelope -&gt; OGR.Envelope<br /><br />Full name: Plot-geometries.resize<br /><em><br /><br />&#160;Resizes the envelope based on a choosen zoom </em></div>
<div class="tip" id="fs27">val zoom : float</div>
<div class="tip" id="fs28">val en : OGR.Envelope</div>
<div class="tip" id="fs29">val dx : float</div>
<div class="tip" id="fs30">property OGR.Envelope.MaxX: float</div>
<div class="tip" id="fs31">property OGR.Envelope.MinX: float</div>
<div class="tip" id="fs32">val dy : float</div>
<div class="tip" id="fs33">property OGR.Envelope.MaxY: float</div>
<div class="tip" id="fs34">property OGR.Envelope.MinY: float</div>
<div class="tip" id="fs35">val xMargin : float</div>
<div class="tip" id="fs36">val yMargin : float</div>
<div class="tip" id="fs37">val plotAt : zoom:float -&gt; geom:OGR.Geometry -&gt; ChartTypes.GenericChart<br /><br />Full name: Plot-geometries.plotAt<br /><em><br /><br />&#160;Plots a geometry at a specified zoom</em></div>
<div class="tip" id="fs38">val createCharts : (ChartTypes.GenericChart list -&gt; OGR.Geometry -&gt; ChartTypes.GenericChart list)</div>
<div class="tip" id="fs39">val xs : ChartTypes.GenericChart list</div>
<div class="tip" id="fs40">val count : int</div>
<div class="tip" id="fs41">OGR.Geometry.GetGeometryCount() : int</div>
<div class="tip" id="fs42">OGR.Geometry.GetGeometryRef(geom: int) : OGR.Geometry</div>
<div class="tip" id="fs43">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs44">val concat : lists:seq&lt;&#39;T list&gt; -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.concat</div>
<div class="tip" id="fs45">val charts : ChartTypes.GenericChart list</div>
<div class="tip" id="fs46">val spaceSize : OGR.Envelope</div>
<div class="tip" id="fs47">static member Chart.Combine : charts:seq&lt;ChartTypes.GenericChart&gt; -&gt; ChartTypes.GenericChart</div>
<div class="tip" id="fs48">val plot : g:OGR.Geometry -&gt; ChartTypes.GenericChart<br /><br />Full name: Plot-geometries.plot<br /><em><br /><br />&#160;Plots a geometry at a zoom of 80%</em></div>
<div class="tip" id="fs49">val g : OGR.Geometry</div>


          
        </div>

        <div class="tip" id="fs1">namespace Fsharp.Gdal</div>
        <div class="span3">
            <img src="./img/logo.png" alt="F# Project" style="width:150px;margin:10px">
            <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
                <li class="nav-header">Fsharp.Gdal</li>
                <li><a href="http://domasin.github.io/Fsharp.Gdal/index.html">Home page</a></li>
                <li class="divider"></li>
                <li><a href="http://nuget.org/packages/Fsharp.Gdal">Get Library via NuGet</a></li>
                <li><a href="http://github.com/domasin/Fsharp.Gdal">Source Code on GitHub</a></li>
                <li><a href="http://domasin.github.io/Fsharp.Gdal/license.html">License</a></li>
                <li><a href="http://domasin.github.io/Fsharp.Gdal/release-notes.html">Release Notes</a></li>

                <li class="nav-header">Getting started</li>
                <li><a href="http://domasin.github.io/Fsharp.Gdal/tutorial.html">Sample tutorial</a></li>

                <li class="nav-header">Documentation</li>
                <li><a href="http://domasin.github.io/Fsharp.Gdal/reference/index.html">API Reference</a></li>
            </ul>
        </div>
        <a href="http://github.com/domasin/Fsharp.Gdal"><img style="position: absolute; top: 0; right: 0; border: 0;" src="./img/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
    </div>
    <hr style="margin-top:50px;" />
      <footer class="footer" style="text-align:center">
        Build with FsLab Journal
      </footer>
    </div>
  </body>
</html>
